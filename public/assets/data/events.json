{"1":"task(async () => {\n  await talk('国王', '勇者的后代')\n  await talk('国王', '这个你拿去吧')\n  await message('获得了钥匙')\n  await talk('国王', '祝你旅途愉快!')\n})\n","1001":"task(async () => {\n  await talk(\n    '国王',\n    '相传许久以前，\\n传说中的勇者洛特\\n获得神所赐予的光之珠，\\n封印了遍布世界的怪物们。'\n  )\n  await talk(\n    '国王',\n    '然而恶魔的化身龙王\\n突然不知从何处现身，\\n将那颗珠子封闭在黑暗中！'\n  )\n  await talk('国王', '再这样下去\\n世界将会被黑暗吞没，\\n最后走向毁灭。')\n  await talk(\n    '国王',\n    `勇者${heroName()}！\\n去打倒魔王，\\n将光之珠由其手中夺回吧！`\n  )\n  await talk(\n    '国王',\n    '我要送你一些礼物!\\n那边的宝箱你打开看看。\\n里面应该放有几件\\n有助你冒险的东西。'\n  )\n  await talk(\n    '国王',\n    '还有，这房间里的人，\\n了解一些旅行的知识，\\n不妨向他们请教一番。'\n  )\n  await talk('国王', `那么，再会了！\\n勇者${heroName()}！`)\n\n  finishCurrentEvent()\n})\n","1002":"task(async () => {\n  await talk('国王', '赶快去吧！ ')\n})\n","Q10":"task(async (event) => {\n  showGoldWindow(true)\n  const money = event.args[0]\n  let select = await talkWithArgs({\n    characterName: '*',\n    text: 'Q10_0',\n    select: true,\n    textArgs: [['{money}', money]],\n  })\n  while (select) {\n    if (checkInventoryIsFull()) {\n      await talk('*', 'InventoryIsFull')\n      break\n    }\n    if (money > hero().gold) {\n      await talk('*', 'NotEnoughMoney')\n      break\n    }\n    hero().gold -= money\n    addItems(4)\n    select = await talk('*', 'Q10_1', false, true)\n  }\n  await talk('*', 'Q10_2')\n  showGoldWindow(false)\n})\n","Q11":"task(async (event) => {\n  showGoldWindow(true)\n  const money = event.args[0]\n  let select = await talkWithArgs({\n    characterName: '*',\n    text: 'Q11_0',\n    select: true,\n    textArgs: [['{money}', money]],\n  })\n  while (select) {\n    if (checkInventoryIsFull()) {\n      await talk('*', 'InventoryIsFull')\n      break\n    }\n    if (money > hero().gold) {\n      await talk('*', 'NotEnoughMoney')\n      break\n    }\n    hero().gold -= money\n    addItems(50)\n    select = await talk('*', 'Q11_1', false, true)\n  }\n  await talk('*', 'Q11_N')\n  showGoldWindow(false)\n})\n","Q1121":"task(async () => {\n  await talk('*', 'Q1121_0')\n  await talk('*', 'Q1121_1')\n  healMP()\n  flashing({ duration: 300, times: 2, color: '#38F3F5' })\n})\n","Q1122":"task(async () => {\n  await talk('*', 'Q1122_0')\n  const audios = executingEngine.audios\n  audios.pauseBGM()\n  audios.playME('se/revive.mp3')\n  healHP()\n  await delay(5000)\n  audios.pauseME()\n  audios.replayBGM()\n  await talk('*', 'Q1122_1')\n})\n","Q300":"task(async () => {\n  const npc = getQuestNPC()\n  await talk('*', 'Q300_0')\n  await talk('*', 'Q300_1')\n  await talk('*', 'Q300_2')\n  await talk('*', 'Q300_3')\n  await npc.smoothMoveToCoord([1, 0])\n  finishQuestEvents('Q300__0')\n})\n","Q301":"task(async () => {\n  await talk('*', 'Q301_0')\n})\n","Q302":"task(async () => {\n  const npc = getQuestNPC()\n  await npc.smoothMoveToCoord([-1, 0])\n  npc.moveToCoord([0, 0], 0)\n})\n","Q303":"task(async () => {\n  await talk('*', 'Q302_0')\n  await talk('*', 'Q302_1')\n  await getQuestNPC().smoothMoveToCoord([8, 0])\n})\n","Q304":"task(async () => {\n  await talk('*', 'Q304_0')\n  await talk('*', 'Q304_1')\n})\n","Q320":"task(async () => {\n  await message('Q320_0')\n  await message('Q320_1')\n  if (checkInventoryIsFull(502)) {\n    await message('InventoryIsFull')\n    return\n  }\n  addItems(502)\n  audio().pauseBGM()\n  audio().playME('se/important_item.mp3')\n  await delay(2000)\n  audio().replayBGM()\n  finishQuestEvents('Q320')\n})\n","Q4":"task(async (event) => {\n  showGoldWindow(true)\n  const money = event.args[0]\n  await talk('*', 'Q4_0')\n  const select = await talkWithArgs({\n    characterName: '*',\n    text: 'Q4_1',\n    select: true,\n    textArgs: [['{money}', money]],\n  })\n  if (!select) {\n    await talk('*', 'Q4_N')\n  } else {\n    const gold = hero().gold\n    if (gold < money) {\n      await talk('*', 'Q4_N_MONEY')\n      await talk('*', 'Q4_N')\n    } else {\n      hero().gold -= money\n      rest()\n      const audios = executingEngine.audios\n      audios.pauseBGM()\n      await fading({ type: 'in', duration: 1000 })\n      audios.playME('se/inn.mp3')\n      await delay(3000)\n      await fading({ type: 'out', duration: 1000 })\n      audios.replayBGM()\n      await talk('*', 'Q4_Y1')\n    }\n  }\n  showGoldWindow(false)\n})\n","Q5":"task(async () => {\n  const type = executingEvent.args[0]\n  const id = executingEvent.args[1]\n  await talk('*', type === 0 ? 'Q5_0' : 'Q5_1', true)\n  await shop(id)\n  await talk('*', 'Q5_N', true)\n})\n","Q50":"task(async () => {\n  await message('Q50_0')\n  await talkWithArgs({\n    characterName: 'luola',\n    text: 'Q50_1',\n    textArgs: [['{nextExp}', hero().nextExp]],\n  })\n  await talkWithArgs({\n    characterName: 'luola',\n    text: 'Q50_2',\n    textArgs: [\n      ['{coordX}', headCoord()[0]],\n      ['{coordY}', headCoord()[1]],\n    ],\n  })\n  await talk('luola', 'Q50_3')\n})\n","Q600":"task(async () => {})\n","Q610":"task(async () => {\n  await talk('luola', 'Q610_0')\n  await talk('luola', 'Q610_1')\n  await talk('luola', 'Q610_2')\n  await talk('luola', 'Q610_3')\n  await talk('luola', 'Q610_4')\n  await message('Q610_5')\n  changeHeroRoleId(1)\n})\n"}